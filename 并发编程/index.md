# 什么是并发编程

## 多线程基础核心  
### 进程和线程的关系  
进程是一个应用程序的执行过程，线程是进城创建的用于执行多个任务。 
### 并发和并行  
并发是一种能力，并发是一种手段  
如果代码拥有了并发能力，跑在多核CPU上就可以进行并行运行  

### 线程上下文切换  
一个CPU同一时刻只能被一个线程使用（ CPU采用时间片算法，轮流分配给多个线程）  
线程执行位置的记录和加载过程就叫上下文切换  
线程执行位置纪录在程序计数器  

### 线程的一生  
初始态 - 运行 - 就绪 - 终止态  
阻塞(获取锁失败)，等待(wait, join)，超时等待（Object.wait(long), Thread.jon(long), Thread.sleep(long)）

### 线程的安全问题  
多个线程同时执行，可能回运行同一行代码，如果程序每次远行与单线程执行结果一致，切变脸的预期值也一样，就是线程安全的，反之则是不安全的。  

## 并发编程三大特性  
## 可见性  
1. CPU和缓存一致性  

## Synchronized实现原理  
## Volatile实现原理  
## JMM和指令重排  
## JUC  
## 原子类与CAS实现原理  
CPU的操作指令  
### CAS的缺陷  
- 循环时间不可控 
- 只能保证一个共享变量原子操作
- ABA的问题，如果值的变化A-》B-》A，监测不到变化，但是事实数据已经改变了
  
## 锁与AQS实现原理  
### ReentrantLock重入锁  
### Reentrant ReadWriteLock读写锁  
### StampedLock重入读写锁  

## 并发工具类  
## 并发容器  
## 阻塞队列  

# 锁的分类  
## 按上锁的方式  
- 显示锁
  JUC包提供的锁，需要显示加锁和解锁  
- 隐式锁
  不需要显示加锁和解锁  
## 按特性划分
- 悲观锁/乐观锁  
  按照线程在使用共享资源时，要不要锁住同步资源  
  - 悲观锁： JUC锁，synchronized
  - 乐观锁：CAS，关系型数据库的版本号
- 重入锁/不可重入锁
  按照同一个线程是否可以重复获取同一把锁  
- 公平锁/不公平锁
  按照多个线程竞争统一锁时需不需要排队，需不需要插队  
- 独享锁/共享锁
  按照多个线程同步能同时共享同一个锁   

